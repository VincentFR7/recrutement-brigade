<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recrutement – Brigade Municipale</title>

<style>
:root {
  --dark:#0b0f14;
  --light:#ffffff;
  --blue:#0a3d62;
  --blue-soft:#1e90ff;
  --card-dark:rgba(255,255,255,0.07);
  --card-light:rgba(0,0,0,0.06);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",Arial,sans-serif}
body{
  background:var(--dark);
  color:var(--light);
  min-height:100vh;
  overflow-x:hidden;
  user-select:none;
  transition:.3s
}
body.light{background:var(--light);color:var(--dark)}

#loader{
  position:fixed;inset:0;
  background:var(--blue);
  display:flex;justify-content:center;align-items:center;
  z-index:9999
}
#loader img{width:150px;animation:spin 2.5s linear infinite}
@keyframes spin{to{transform:rotateY(360deg)}}

#snowCanvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1
}

.festive-banner{
  background:linear-gradient(90deg,#0a3d62,#1e90ff);
  text-align:center;
  padding:.45rem;
  font-size:.85rem;
  font-weight:600;
  position:relative;
  z-index:3
}

header{
  background:linear-gradient(135deg,var(--blue),#05223a);
  padding:3.2rem 1rem 2.5rem;
  text-align:center;
  position:relative;
  z-index:2
}
.logo{position:absolute;top:1rem;left:1rem}
.logo img{height:58px}
.top-actions{position:absolute;top:1rem;right:1rem}
.action-btn{
  background:rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.35);
  color:#fff;
  padding:.45rem .9rem;
  border-radius:8px;
  cursor:pointer
}

main{
  max-width:1200px;
  margin:2.5rem auto;
  padding:0 1rem;
  display:grid;
  gap:1.8rem;
  position:relative;
  z-index:2
}

section{
  background:var(--card-dark);
  border-radius:20px;
  padding:1.7rem;
  border-left:4px solid var(--blue-soft);
  backdrop-filter:blur(6px);
  opacity:0;
  transform:translateY(30px);
  transition:.6s
}
body.light section{background:var(--card-light)}
section.visible{opacity:1;transform:none}
section h2{color:var(--blue-soft);margin-bottom:1rem}
section p,li{line-height:1.65;font-size:.95rem}

ul{
  list-style:none;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:.75rem
}
ul li{
  background:rgba(0,0,0,.32);
  padding:.75rem .9rem;
  border-radius:10px;
  border-left:3px solid var(--blue-soft)
}
body.light ul li{background:#fff}

.stats{
  display:flex;
  justify-content:center;
  gap:2rem;
  flex-wrap:wrap
}
.stat-card{
  background:rgba(255,255,255,.07);
  border-radius:20px;
  padding:1.5rem 2rem;
  text-align:center
}
.stat-card h3{font-size:2rem;color:var(--blue-soft)}

#available-container{
  display:flex;
  justify-content:center;
  font-size:1.2rem;
  font-weight:700
}

.discord{display:flex;justify-content:center;margin-top:1.5rem}
.discord-btn{
  background:linear-gradient(135deg,#5865F2,#4752c4);
  color:#fff;
  padding:1rem 2rem;
  border-radius:16px;
  border:none;
  font-size:1rem;
  cursor:pointer
}

.apply-form{display:flex;flex-direction:column;gap:.9rem}
.apply-form input,.apply-form textarea{
  background:rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.25);
  border-radius:10px;
  padding:.65rem;
  color:#fff
}
body.light .apply-form input,
body.light .apply-form textarea{
  background:#fff;color:#000
}
.note-docs{
  background:rgba(0,0,0,.35);
  padding:.9rem;
  border-radius:12px;
  font-size:.85rem
}
#form-status{text-align:center;margin-top:.6rem;font-weight:600}

footer{text-align:center;padding:2rem;font-size:.85rem;opacity:.85}
</style>
</head>

<body oncontextmenu="return false">

<div id="loader"><img src="https://i.imgur.com/mXS0oZA.png"></div>
<canvas id="snowCanvas"></canvas>

<div class="festive-banner">
Joyeuses Fêtes – Brigade Municipale de Paris - FRRP
</div>

<header>
  <div class="logo"><img src="https://i.imgur.com/mXS0oZA.png"></div>
  <div class="top-actions">
    <button class="action-btn" onclick="toggleTheme()">Thème officiel</button>
  </div>
  <h1>Recrutement – Brigade Municipale</h1>
  <p>Servir et protéger la République Française</p>
</header>

<main>

<section>
<h2>Présentation générale</h2>
<p>
La <strong>Brigade Municipale de Paris</strong> recrute des <strong>hommes et des femmes volontaires</strong>
souhaitant s'engager au service de la population et de la République Française.
<br><br>
Aucun quota précis d'heures de service n'est imposé. Un <strong>minimum d'investissement personnel</strong>
est néanmoins requis afin d'assurer un service sérieux, professionnel et cohérent.
<br><br>
La Brigade Municipale repose sur des valeurs de <strong>discipline, respect, professionnalisme et esprit d'équipe</strong>,
garantissant une expérience RP immersive et structurée.
</p>
</section>

<section>
<h2>Postes disponibles</h2>
<div id="available-container">8 places disponibles</div>
</section>

<section class="stats">
<div class="stat-card"><h3>+35</h3><p>Membres engagés</p></div>
<div class="stat-card"><h3>50</h3><p>Interventions / jour</p></div>
<div class="stat-card"><h3>8</h3><p>Places restantes</p></div>
</section>

<section>
<h2>Nos missions</h2>
<ul>
<li>Maintien de l’ordre public</li>
<li>Sécurité des personnes et des biens</li>
<li>Prévention et proximité citoyenne</li>
<li>Assistance à la population</li>
<li>Coopération interservices</li>
</ul>
</section>

<section>
<h2>Spécialités opérationnelles</h2>
<ul>
<li>Section de Recherche Municipale (SRM)</li>
<li>Brigade Motorisée (BMO)</li>
<li>Groupe de Soutien et d'Intervention (GSI)</li>
<li>Unité Cynophile</li>
<li>Brigade Nautique</li>
</ul>
</section>

<section>
<h2>Qualifications judiciaires</h2>
<ul>
<li>OPJ – Officier de Police Judiciaire</li>
<li>APJ – Agent de Police Judiciaire</li>
<li>APJA – Agent de Police Judiciaire Adjoint</li>
</ul>
</section>

<section>
<h2>Unités et pôles internes</h2>
<ul>
<li>Pôle de recrutement</li>
<li>Pôle tutorat</li>
<li>Amical du service</li>
</ul>
</section>

<section>
<h2>Avantages</h2>
<ul>
<li>Primes attractives</li>
<li>Garage personnel</li>
<li>Salaire avec prime mensuelle</li>
<li>Véhicule de service</li>
<li>Évolution rapide</li>
<li>Ambiance sérieuse et encadrée</li>
</ul>
</section>

<div class="discord">
<button class="discord-btn" onclick="openForm()">Postuler</button>
</div>

<section id="applySection" style="display:none">
<h2>Candidature</h2>

<div class="note-docs">
Le lien Google Docs doit contenir :
<br>• Photo du permis de conduire et carte d'identité
<br>• CV
<br>• Lettre de motivation
</div>

<form id="applicationForm" class="apply-form">
<input id="pseudo" required placeholder="Pseudo Discord">
<input id="docs" type="url" required placeholder="Lien Google Docs">
<textarea id="objectif" required placeholder="Quel est votre objectif en nous rejoignant ?"></textarea>
<button class="discord-btn" type="submit">Envoyer la candidature</button>
<p id="form-status"></p>
</form>
</section>

</main>

<footer>© 2025 – Brigade Municipale – FRRP</footer>

<script>
/* Sécurité silencieuse */
document.addEventListener("keydown",e=>{
  if(
    e.key==="F12" ||
    (e.ctrlKey && ["u","s","i","j","c"].includes(e.key.toLowerCase()))
  ){
    e.preventDefault();
  }
});

/* Loader */
window.addEventListener("load",()=>{
  setTimeout(()=>document.getElementById("loader").style.display="none",2300);
});

/* Theme */
function toggleTheme(){document.body.classList.toggle("light");}

/* Neige */
const canvas=document.getElementById("snowCanvas");
const ctx=canvas.getContext("2d");
let w,h,flakes=[];
function resize(){w=canvas.width=innerWidth;h=canvas.height=innerHeight}
resize();addEventListener("resize",resize);
for(let i=0;i<160;i++)flakes.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*2+1,d:Math.random()+.6});
(function snow(){
  ctx.clearRect(0,0,w,h);
  ctx.fillStyle="rgba(255,255,255,.8)";
  ctx.beginPath();
  flakes.forEach(f=>{ctx.moveTo(f.x,f.y);ctx.arc(f.x,f.y,f.r,0,Math.PI*2)});
  ctx.fill();
  flakes.forEach(f=>{f.y+=f.d;if(f.y>h){f.y=-5;f.x=Math.random()*w}});
  requestAnimationFrame(snow);
})();

/* Fade sections */
const obs=new IntersectionObserver(entries=>{
  entries.forEach(e=>e.isIntersecting&&e.target.classList.add("visible"));
},{threshold:.2});
document.querySelectorAll("section").forEach(s=>obs.observe(s));

/* Formulaire + webhook + anti-spam */
const webhookURL="https://discord.com/api/webhooks/1451966850500923467/_vhginYGYX4JgHx38ntPKM89AZTsegq4y10YF1w5o_66xAyrPU5tWwNmBjQKW01MiFii";
const WEEK=7*24*60*60*1000;
const form=document.getElementById("applicationForm");
const status=document.getElementById("form-status");

function openForm(){
  applySection.style.display="block";
  applySection.scrollIntoView({behavior:"smooth"});
}

form.addEventListener("submit",async e=>{
  e.preventDefault();
  if(localStorage.lastApp && Date.now()-localStorage.lastApp<WEEK){
    status.textContent="Une candidature par semaine maximum.";
    return;
  }
  status.textContent="Analyse en cours…";
  try{
    await fetch(webhookURL,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({
        embeds:[{
          title:"Nouvelle candidature",
          fields:[
            {name:"Pseudo Discord",value:pseudo.value},
            {name:"Google Docs",value:docs.value},
            {name:"Objectif",value:objectif.value}
          ],
          timestamp:new Date()
        }]
      })
    });
    localStorage.lastApp=Date.now();
    status.textContent="Candidature envoyée avec succès";
    form.reset();
  }catch{
    status.textContent="Erreur lors de l’envoi";
  }
});
</script>

</body>
</html>
